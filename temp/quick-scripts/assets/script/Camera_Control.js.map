{"version":3,"sources":["Camera_Control.js"],"names":["cc","Class","extends","Component","properties","target","default","type","Node","onLoad","camera","getComponent","Camera","onEnable","onDisable","start","update","dt","targetPos","convertToWorldSpaceAR","Vec2","ZERO","pos","node","parent","convertToNodeSpaceAR","y","position"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACVC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL;AADE,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACN,aAAKC,MAAL,GAAc,KAAKC,YAAL,CAAkBX,GAAGY,MAArB,CAAd;AACH,KAdI;;;AAgBLC,cAAU,oBAAY,CAErB,CAlBI;;AAoBLC,eAAW,qBAAY,CAEtB,CAtBI;;AAwBLC,SAxBK,mBAwBI,CACR,CAzBI;;;AA2BL;;AAEAC,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAIC,YAAY,KAAKb,MAAL,CAAYc,qBAAZ,CAAkCnB,GAAGoB,IAAH,CAAQC,IAA1C,CAAhB;AACA;AACA,YAAIC,MAAM,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,oBAAjB,CAAsCP,SAAtC,CAAV;;AAEA;AACA,YAAKI,IAAII,CAAJ,GAAQ,KAAKH,IAAL,CAAUI,QAAV,CAAmBD,CAAhC,EAAoC;AAChC,iBAAKH,IAAL,CAAUI,QAAV,GAAqBL,GAArB;AACH;AACJ;AAtCI,CAAT","file":"Camera_Control.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      target: {\r\n          default: null,\r\n          type: cc.Node\r\n      }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.camera = this.getComponent(cc.Camera);\r\n    },\r\n\r\n    onEnable: function () {\r\n\r\n    },\r\n    \r\n    onDisable: function () {\r\n\r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    update: function (dt) {\r\n        let targetPos = this.target.convertToWorldSpaceAR(cc.Vec2.ZERO);\r\n        // pos:人物坐标\r\n        let pos = this.node.parent.convertToNodeSpaceAR(targetPos);\r\n    \r\n        //摄影机Y超过1000时，环消失\r\n        if ((pos.y > this.node.position.y)) {\r\n            this.node.position = pos;\r\n        }\r\n    }\r\n});\r\n"]}