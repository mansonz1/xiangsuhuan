{"version":3,"sources":["LoopMgr.js"],"names":["cc","Class","extends","Component","properties","loopPrefab","default","type","Prefab","start","loopPool","NodePool","initCount","i","loop","instantiate","put","addLoop","index","size","get","node","addChild","zIndex","y","_tag","name"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,oBAAW,EAACC,SAAQ,IAAT,EAAeC,MAAKP,GAAGQ,MAAvB;AADF,KAHP;;AAOL;;AAEA;;AAEAC,SAXK,mBAWI;AACL;AACA,aAAKC,QAAL,GAAgB,IAAIV,GAAGW,QAAP,EAAhB;AACA,YAAIC,YAAY,CAAhB;AACA,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAED,SAAhB,EAA2B,EAAEC,CAA7B,EAAgC;AAC5B,gBAAIC,OAAOd,GAAGe,WAAH,CAAe,KAAKV,UAApB,CAAX;AACA,iBAAKK,QAAL,CAAcM,GAAd,CAAkBF,IAAlB;AACH;AACD,aAAK,IAAID,KAAI,CAAb,EAAgBA,KAAI,CAApB,EAAuB,EAAEA,EAAzB,EAA4B;AACxB,iBAAKI,OAAL,CAAaJ,EAAb;AACH;AACJ,KAtBI;;AAuBLI,aAAS,iBAAUC,KAAV,EAAiB;AACtB,YAAIJ,OAAO,IAAX;AACA,YAAI,KAAKJ,QAAL,CAAcS,IAAd,KAAuB,CAA3B,EAA8B;AAC1BL,mBAAO,KAAKJ,QAAL,CAAcU,GAAd,EAAP;AACH,SAFD,MAEO;AACHN,mBAAOd,GAAGe,WAAH,CAAe,KAAKV,UAApB,CAAP;AACH;AACD,aAAKgB,IAAL,CAAUC,QAAV,CAAmBR,IAAnB;AACAA,aAAKS,MAAL,GAAc,CAAd;AACAT,aAAKU,CAAL,GAASN,QAAQ,GAAjB;AACAJ,aAAKW,IAAL,GAAYP,KAAZ;AACAJ,aAAKY,IAAL,GAAY,SAASR,KAArB;AACH;;AAED;AArCK,CAAT","file":"LoopMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       loopPrefab:{default:null, type:cc.Prefab},\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        /* Game.loopMgr = this; */\r\n        this.loopPool = new cc.NodePool();\r\n        let initCount = 5;\r\n        for (let i=0; i<initCount; ++i) {\r\n            let loop = cc.instantiate(this.loopPrefab);\r\n            this.loopPool.put(loop);\r\n        }\r\n        for (let i = 0; i < 5; ++i) {\r\n            this.addLoop(i);\r\n        }\r\n    },\r\n    addLoop: function (index) {\r\n        let loop = null;\r\n        if (this.loopPool.size() > 0) {\r\n            loop = this.loopPool.get();\r\n        } else {\r\n            loop = cc.instantiate(this.loopPrefab);\r\n        }\r\n        this.node.addChild(loop);\r\n        loop.zIndex = 1;\r\n        loop.y = index * 800;\r\n        loop._tag = index;\r\n        loop.name = \"loop\" + index;\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}